import { ClientPidMapProperty } from "../../model/properties";
import { Gender, Kind } from "../../model/propertyValues";
import { VCardDefinition, VCardGroupDefinition, VCardList } from "../../model/vCard";

export const vCardDescriptorFixtures: {
  name: string;
  fixture: VCardDefinition | VCardGroupDefinition | VCardList;
  expected: string[];
}[] = [
  {
    name: "Minimal vCard",
    fixture: {
      kind: Kind.Individual,
      fullName: "Aram Becker",
    },
    expected: ["BEGIN:VCARD", "VERSION:4.0", "KIND:individual", "FN:Aram Becker", "END:VCARD"],
  },
  {
    name: "Minimal List VCard",
    fixture: [
      { property: "KIND", value: Kind.Individual },
      { property: "FN", value: "Aram Becker" },
    ],
    expected: ["BEGIN:VCARD", "VERSION:4.0", "KIND:individual", "FN:Aram Becker", "END:VCARD"],
  },
  {
    name: "AltId Properties",
    fixture: {
      kind: Kind.Individual,
      fullName: [
        {
          value: "Aram Becker",
          parameters: {
            altId: "0",
            language: "de-de",
          },
        },
        {
          value: "Arám Bèckêr",
          parameters: {
            altId: "1",
            language: "fr-fr",
          },
        },
      ],
    },
    expected: [
      "BEGIN:VCARD",
      "VERSION:4.0",
      "KIND:individual",
      "FN;ALTID=0;LANGUAGE=de-de:Aram Becker",
      "FN;ALTID=1;LANGUAGE=fr-fr:Arám Bèckêr",
      "END:VCARD",
    ],
  },
  {
    name: "AltId List Properties",
    fixture: [
      { property: "KIND", value: Kind.Individual },
      { property: "FN", value: "Aram Becker", parameters: { altId: "0", language: "de-de" } },
      { property: "FN", value: "Arám Bèckêr", parameters: { altId: "1", language: "fr-fr" } },
    ],
    expected: [
      "BEGIN:VCARD",
      "VERSION:4.0",
      "KIND:individual",
      "FN;ALTID=0;LANGUAGE=de-de:Aram Becker",
      "FN;ALTID=1;LANGUAGE=fr-fr:Arám Bèckêr",
      "END:VCARD",
    ],
  },
  {
    name: "begin / End / Version Properties",
    fixture: {
      version: "4.0",
      end: "VCARD",
      begin: "VCARD",
      kind: Kind.Individual,
      fullName: "Aram Becker",
    },
    expected: ["BEGIN:VCARD", "VERSION:4.0", "KIND:individual", "FN:Aram Becker", "END:VCARD"],
  },
  {
    name: "Client PID Map as a Dictionary",
    fixture: {
      kind: Kind.Individual,
      fullName: "Aram Becker",
      clientPidMap: {
        "0": "http://example.com/1",
        "2": "http://example.com/2",
        "4": "http://example.com/3",
      },
    },
    expected: [
      "BEGIN:VCARD",
      "VERSION:4.0",
      "KIND:individual",
      "FN:Aram Becker",
      "CLIENTPIDMAP:0;http://example.com/1",
      "CLIENTPIDMAP:2;http://example.com/2",
      "CLIENTPIDMAP:4;http://example.com/3",
      "END:VCARD",
    ],
  },
  {
    name: "Client PID Map as a Array",
    fixture: {
      kind: Kind.Individual,
      fullName: "Aram Becker",
      clientPidMap: {
        values: [
          ["0", "http://example.com/1"],
          { pid: "2", uri: "http://example.com/2" },
          ["4", "http://example.com/3"],
        ],
      },
    },
    expected: [
      "BEGIN:VCARD",
      "VERSION:4.0",
      "KIND:individual",
      "FN:Aram Becker",
      "CLIENTPIDMAP:0;http://example.com/1",
      "CLIENTPIDMAP:2;http://example.com/2",
      "CLIENTPIDMAP:4;http://example.com/3",
      "END:VCARD",
    ],
  },
  {
    name: "All Properties",
    fixture: {
      kind: Kind.Group,
      fullName: "Aram Becker",
      name: {
        familyName: "Becker",
        givenName: "Aram",
        additionalNames: "Ar",
        honorificPrefix: "Dr.",
        honorificSuffix: "Jr.",
      },
      birthday: "1955-01-01",
      anniversary: "1955-01-01",
      title: "Dr.",
      role: "Architect",
      organization: "Aram Becker GmbH",
      xml: "<xml>xml</xml>",
      address: {
        poBox: "123",
        extended: "Apt. 4",
        street: "Main St.",
        locality: "Anytown",
        region: "CA",
        postalCode: "12345",
        country: "US",
      },
      tel: "tel:+1-555-555-5555",
      email: "example@test.com",
      categories: ["category1", "category2"],
      fbUrl: "https://www.arambecker.com",
      gender: Gender.Male,
      geoLocation: "geo:1234",
      impp: "https://www.arambecker.com",
      key: "https://www.arambecker.com",
      language: "en-gb",
      logo: "https://www.arambecker.com",
      photo: "https://www.arambecker.com",
      sound: "https://www.arambecker.com",
      timezone: "America/Los_Angeles",
      calendarAddressUri: "https://www.arambecker.com/",
      calendarUri: "https://www.arambecker.com/",
      url: "https://www.arambecker.com/",
      revision: "2022-01-01 01:02:03",
      note: "This is a note",
      nickName: "Aram",
      productId: "12345",
      related: "https://www.arambecker.com/",
      source: "https://www.arambecker.com/",
      uid: "12345",
      member: "https://www.arambecker.com/",
    },
    expected: [
      "BEGIN:VCARD",
      "VERSION:4.0",
      "KIND:group",
      "FN:Aram Becker",
      "N:Becker;Aram;Ar;Dr.;Jr.",
      "BDAY:19550101",
      "ANNIVERSARY:19550101",
      "TITLE:Dr.",
      "ROLE:Architect",
      "ORG:Aram Becker GmbH",
      "XML:<xml>xml</xml>",
      "ADR:123;Apt. 4;Main St.;Anytown;CA;12345;US",
      "TEL:tel:+1-555-555-5555",
      "EMAIL:example@test.com",
      "CATEGORIES:category1,category2",
      "FBURL:https://www.arambecker.com",
      "GENDER:M",
      "GEO:geo:1234",
      "IMPP:https://www.arambecker.com",
      "KEY:https://www.arambecker.com",
      "LANG:en-gb",
      "LOGO:https://www.arambecker.com",
      "PHOTO:https://www.arambecker.com",
      "SOUND:https://www.arambecker.com",
      "TZ:America/Los_Angeles",
      "CALADRURI:https://www.arambecker.com/",
      "CALURI:https://www.arambecker.com/",
      "URL:https://www.arambecker.com/",
      "REV:20220101T010203",
      "NOTE:This is a note",
      "NICKNAME:Aram",
      "PRODID:12345",
      "RELATED:https://www.arambecker.com/",
      "SOURCE:https://www.arambecker.com/",
      "UID;VALUE=text:12345",
      "MEMBER:https://www.arambecker.com/",
      "END:VCARD",
    ],
  },
  {
    name: "Duplicate address",
    fixture: {
      kind: Kind.Individual,
      fullName: "Aram Becker",
      name: {
        familyName: "Becker",
        givenName: "Aram",
        additionalNames: "Bero",
      },
      gender: Gender.Male,
      address: [
        {
          street: "Jungfernheideweg 49",
          postalCode: "13629",
          locality: "Berlin",
          country: "Germany",
        },
        {
          extended: "Lydia Riedel",
          street: "Saatwunkler Damm 353",
          postalCode: "13599",
          locality: "Berlin",
          country: "Germany",
        },
      ],
      birthday: "*-02-29",
    },
    expected: [
      "BEGIN:VCARD",
      "VERSION:4.0",
      "KIND:individual",
      "FN:Aram Becker",
      "N:Becker;Aram;Bero;;",
      "GENDER:M",
      "ADR:;;Jungfernheideweg 49;Berlin;;13629;Germany",
      "ADR:;Lydia Riedel;Saatwunkler Damm 353;Berlin;;13599;Germany",
      "BDAY:--0229",
      "END:VCARD",
    ],
  },
];
